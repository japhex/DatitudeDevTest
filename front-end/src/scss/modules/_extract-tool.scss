.extract-filter {
    @include clearfix();

    &-options {
        margin-top: 20px;

	    @media (max-width: $desktopBreakpoint) {
		    clear:left;
	    }

        &__main {
            @media (min-width: $desktopBreakpoint) {
                width:70%;
                float:left;
            }
        }

        ul {
            margin:0;
            padding:0;

            li {
                @include clearfix();
                display: block;

                &:first-child {
                    h2 {
                        border-top:0;
                    }
                }

                &.active {
                    h2 {
                        color:#fff;
                    }
                }

                h2 {
                    position: relative;
                    color:$lightMediumGrey;
                    padding:20px 0;
                    border-top:1px solid $darkGrey;
                    margin-bottom: 0;
                    cursor:pointer;

                    span {
                        vertical-align: middle;
	                    font-family: 'Lato', sans-serif;

                        small[data-column-count="true"] {
                            color:$mediumGrey;
                            margin-left: 25px;

                            span {
                                vertical-align: baseline;
                                color:$mediumGrey;
                                font-weight: 400;
                                font-size:1.2rem
                            }
                        }
                    }

                    .material-icons {
                        top:20px;
                        right:10px;
                        position: absolute;
                        cursor:pointer;
	                    color: #ff5252;
                    }
                }
            }
        }
    }

    &-stats {
        @include clearfix();
        padding:5px 20px 0 20px;

        @media (min-width: $desktopBreakpoint) {
            width:30%;
            float:left;
        }

        h3 {
            color:$lightMediumGrey;
            font-weight: 200;
            text-align: center;
            position: relative;

            strong {
                display:block;
                font-weight:200;
                font-size:4rem;
                color:$lightGreyBlue;
                padding: 10px 0;
            }

            &.total-records {
                strong {
                    color:$midMedium777Grey;
                }
            }
        }

        button {
            width:100%;
            height:70px;
            margin-top:10px;
            display:block;
            text-align: center;
            padding:0.375rem 0.5rem;
        }

        [data-form-action="download"] {
            display: none;
            clear:both;
            width:100%;
        }

        .count-section {
            margin-bottom:15px;

            h3.subtitle {
                height:50px;
            }
        }

        .group-by-counts {
            @include clearfix();
            padding-left:0;
            position: relative;

            li {
                color:$lightMediumGrey;
                text-transform: uppercase;
                list-style-type: none;
                width:50%;
                float:left;
                font-size: 0.8rem;
                font-weight: 600;
                margin-bottom: 13px;
                position: relative;

                &:nth-child(even) {
                    text-align: right;
                }

                &:last-child {
                    margin-bottom:0;
                }

                span {
                    display: block;
                    color:$midMedium777Grey;
                    font-size: 1.5rem;
                    font-weight: 400;
                    position: relative;
                    top:-3px;
                }
            }
        }
    }
}

.filter-selections {
    @include clearfix();
    display: none;
    padding: 20px;

    .filter-search {
        margin-bottom:10px;

        i {
            position: absolute;
            top:53px;
            left:5px;

            @media (max-width: $mobileBreakpoint) {
                top:42px;
            }
        }
    }

    .row-container {
        @include clearfix();

        .active-search {
            margin-bottom:65px;
        }
    }

    .filter-selection-group {
        float:left;
        margin-top:20px;

        @media (min-width: $desktopBreakpoint) {
            width:32%;
        }

        &.half-width {
            @media (min-width: $desktopBreakpoint) {
                width:50%;
            }
        }

        .form-element {
            width:100%;
        }

        &:nth-child(1), &:nth-child(2), &:nth-child(3) {
            margin-top:0;
        }

        &:nth-child(4) {
            clear:left;
        }
    }

    .form-element {
        min-height: 135px;
        margin-bottom: 35px;

        @media (min-width: $desktopBreakpoint) {
            width:47%;
        }
        @media (max-width: $mobileBreakpoint) {
            width:100%;
            margin-bottom:15px;
        }

        &:nth-child(odd) {
            float:left;
        }
        &:nth-child(even) {
            float:right;
        }

        label {
            @include clearfix();
            color:#cecece;
            position: relative;
            min-height: 38px;
            padding-right: 14px;

            @media (max-width: $mobileBreakpoint) {
                min-height:26px;
            }

            span:not(.tooltip) {
                display: block;
                float: left;
                width: 88%;
                margin-left: 10px;
                position: relative;
                top: -3px;
                color:#cecece;

                @media (max-width: $mobileBreakpoint) {
                    width:auto;
                }
            }

            input {
                float:left;

                @media (max-width: $mobileBreakpoint) {
                    width:12px;
                }
            }

            i {
                position: absolute;
                top:-4px;
                right:0;
                cursor:pointer;
                color:$lightMediumGrey;

                &:hover {
                    .tooltip {
                        display:block;
                        width:71px;
                        right:-8px;
                        top:-8px;
                        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
                    }
                }
            }
        }

        input {
            padding:0.4rem 0.7rem 0.4rem 32px;
        }

        .single-option {
            display: block;
            color: $lightMediumGrey;
            padding-top: 8px;
        }

        .single-filter-value {
            position: relative;
            padding-top:8px;
            color: $lightMediumGrey;
            padding-left:8px;

            .oi {
                top:10px;
            }
        }
    }
}

.range-filter {
	@include clearfix();

	.cost-filter-inputs {
		
		.filter-slider {
			float: left;
			margin:9px 0 0 20px;
			width:56%;

			@media (max-width: $desktopBreakpoint) {
				width:52%;
			}
		}

		input.filter-slider-input {
			width: 59px;
			padding-left: 10px;
			text-align: center;
			float: left;
			font-size: 0.8rem;

			&:last-child {
				float:right;
			}
		}
	}
}

.extract-preview {
    @include popup();

    @media (min-width: $desktopBreakpoint) {
        width:80%;
    }
}

.stick {
    position:fixed;
    right:0;
    top:23px;
}

.extract-tool-configuration {
    form {
        p {
            color:#cecece;
            position: relative;
            top:-10px;
            font-weight: 200;
            font-size: 0.8rem;
            text-transform: uppercase;
        }
    }
}

.no-results {
    color: #999;
    font-weight: 200;
    text-transform: uppercase;
    font-size: 0.8rem;
}

.filter-values-selector {
    @include clearfix();

    .filter-list {
        height:200px;
        overflow:scroll;
        background: #fff;
        padding:5px;
        width:100%;
        float:left;
        display:none;

        @media (max-width: $mobileBreakpoint) {
            margin-bottom:10px;
        }

        li {
            padding:10px;
            border-bottom: 1px solid #cecece;
            cursor:pointer;
            font-size: 0.85rem;

            &.selected {
                background: #e04545;
                color: #fff;
                border-color: #fff;
            }
        }
    }

    .filter-buttons {
        clear: both;
        position: absolute;
        bottom: -44px;
        right: 0;

        @media (max-width: $mobileBreakpoint) {
            position: static;
        }

        .btn {
            display: none;
            margin-right:10px;
            cursor:pointer;

            &:last-child {
                margin-right:0;
            }
        }
	    
	    &.buttons-active {
		    bottom:-5px;
		    text-align: right;

		    .btn {
			    display: inline;
		    }
	    }
    }
}

.sidebar-filters {
    display: none;
    clear:both;
    padding:1rem;
    margin-top:1rem;
    background:$darkestGrey;

    .sidebar-active-filter {
        @include clearfix();
        color:#fff;
        padding-top:1rem;

        &:first-child {
            padding-top:0;
        }

        span {
            display: block;
	        border-bottom: 1px solid;
	        margin-bottom: 10px;

            &:first-child {
                color:#cecece;
                font-family:'Lato', sans-serif;
            }

            &.sidebar-active-filter-value {
                background: #666;
                border-radius: 5px;
                display: block;
                float:left;
                padding: 6px 12px;
                font-size: 0.8rem;
                color: #cecece;
                margin:0 5px 5px 0;
                cursor:pointer;
	            border-bottom: 0;

	            @media (max-width: $desktopBreakpoint) {
		            padding: 13px 14px 13px 8px;
	            }

	            i {
		            font-size: 1rem;
		            position: relative;
		            top: 2px;
		            margin-right: 6px;
		            color: #222;
	            }
            }
        }
    }
}

.extract-tool {
    @include clearfix();
    position: relative;

    .datalist-edit {
	    background: rgba(0, 0, 0, 0.9);

        h1 {
            color:#fff;
            font-weight: 100;
            font-size: 1rem;
            margin-bottom: 25px;
        }

        p,li,span {
            color:#fff;
            font-weight: 200;
        }

        p {
            color:#cecece;
            font-size:0.8rem;

            @media (min-width: $tabletBreakpoint) {
                font-size:1rem;
            }
        }

	    li {
		    color:#999;
	    }

        .pick-templates {
            display: inline-block;
            margin-bottom:30px;

            &:last-child {
                margin-bottom:0;
            }

            li {
                border-bottom:1px solid #cecece;
                cursor:pointer;
                margin-bottom:7px;
            }
        }
    }

    .popup-column {
        float: left;
        width:73%;
        text-align: center;

        @media (max-width: $mobileBreakpoint) {
            float:none;
            width:100%;
        }

        @media (min-width: $desktopBreakpoint) {
            width:45%;
        }

        &:first-child {
            transform: translate(-50%, -50%);
            position: absolute;
            top: 50%;
            left: 23%;

            @media (max-width: $mobileBreakpoint) {
                transform:none;
                position: static;
            }

            @media (min-width: $desktopBreakpoint) {
                position: static;
                transform:none;
            }
        }

        &:last-child {
            float:right;

            @media (max-width: $mobileBreakpoint) {
                float:none;
            }

            .btn {
                position: absolute;
                top: 50%;
                transform: translateY(-50%);
                white-space: normal;
                width:129px;

                @media (max-width: $mobileBreakpoint) {
                    transform:none;
                    position: static;
                }

                @media (min-width: $tabletBreakpoint) {
                    width:auto;
                    white-space: nowrap;
                }
            }
        }

        &__title {
            margin-top: 20px;

            &:first-child {
                margin-top:0;
            }

            &--no-margin {
                margin-top:0;
            }
        }

        &__dropdown {
            height:40px;

	        @media (min-width: $tabletBreakpoint) {
		        min-width: 200px;
	        }
        }

        ul {
            list-style: none;
            padding:0;
            margin:0;
        }
    }

    .or-decider {
        @include centerElement(true,true);
        position: absolute;
        font-size: 2rem;

        @media (max-width: $mobileBreakpoint) {
            transform:none;
            position: static;
            display: block;
            margin:20px 0;
            text-align: center;
        }
    }
}

.extract-options {

    .extract-filter-wizard-container {
        width:100%;
        overflow: hidden;

        .extract-filter-wizard {
            @include clearfix();
            position: relative;
            max-height: 500px;
            overflow: scroll;
	        padding-top:30px;
        }
    }

    .extract-filter-options {
        @include clearfix();
        display: none;

        &.slide-active {
            display: block;
        }

        .form-element {
            min-height:auto;
            margin-bottom:5px;
            float:none;
            display: inline-block;

            label {
                margin-bottom:0;
                min-height:auto;
            }
        }

        h3 {
            font-size: 1rem;
            font-weight: 100;
            color: #fff;
            margin-bottom:20px;
	        font-family: 'Lato', sans-serif;
        }

        .extract-summary {
            margin-top: 40px;
            color:#cecece;
            margin-bottom:20px;

            @media (min-width: $tabletBreakpoint) {
                width:50%;
                float:right;
                padding:0 20px;
                margin-bottom:0;
            }

            ul {
                li {
                    font-weight: 200;
                    padding:10px;

                    input {
                        margin-right: 10px;
                    }

                    label {
                        cursor:pointer;
                    }
                }
            }
        }

	    .extract-customisation {
		    @include clearfix();
	    }

        .column-sort {
            @media (min-width: $tabletBreakpoint) {
                width:50%;
                float:left;
            }

            .chosen-columns {
                max-height: 500px;
                overflow-y: auto;

                li {
                    color:#cecece;
                    padding:10px;
                    cursor:move;
                    background: #444;
                    border-radius: 5px;
                    margin-bottom: 5px;
                    position: relative;
                    word-wrap: break-word;

                    &:last-child {
                        border-bottom:0;
                    }

                    i {
                        position: absolute;
                        right:10px;
                    }
                }
            }
        }

	    .named-extract {
		    float: left;
		    width: 50%;
		    padding-left: 20px;
	    }

        .extract-actions {
            clear:both;
            margin-top:30px;

            @media (min-width: $tabletBreakpoint) {
                margin-top:0;
            }

            .btn {
	            margin-right: 20px;
                height:auto;
	            padding-top:7px;
                display: block;
                margin-bottom: 10px;
                width: 100%;
	            outline:0;

                @media (min-width: $tabletBreakpoint) {
                    float: right;
                    display:inline-block;
                    margin-bottom:0;
                    width:auto;
                }

                &:first-child {
                    margin-right: 0;
	                padding-top:0.375rem;
                }
            }
        }

        .wizard-buttons {
            @include clearfix();
            margin-bottom: 10px;
            position: relative;
            top: -20px;

            [data-slide-forward] {
                float:right;
            }

            [data-slide-back] {
                float:left;
            }

            [data-slide-forward], [data-slide-back] {
                line-height: 2rem;

                @media (max-width: $mobileBreakpoint) {
                    padding:0.175rem 0.5rem;
                    margin-top:20px;
                }

                i {
                    position: relative;
                    top:5px;
                }
            }
        }
    }

    .action-buttons {
        @include clearfix();

        [data-step-back="true"] {
            display: none;
            padding-left:40px;
        }

        .btn {
            i {
                position: absolute;
                left:27px;
            }

            &-right {
                display: block;
                float:right;
                padding-right:40px;
                padding-left:20px;

                i {
                    left:auto;
                    right:23px;
                }
            }
        }

        .btn-underline {
            color:#cecece;
        }

        form {
            display:inline-block;
            width:auto;
            margin:0;
            position: relative;

            i {
                position: absolute;
                top: 5px;
                left: 4px;
                color: #cecece;
            }

            input {
                background:#444;
                color:#cecece;
                border:1px solid #cecece;
                border-radius:5px;
                padding:5px 5px 5px 32px;
            }
        }
    }
}

[data-js-export-form="true"] {
    display:none;
}

.form-element .filter-search [data-date-column] {
    width:49%;
    padding-left:15px;
    cursor:pointer;
}

.dropdown-container, .date-container {
    &.active-search.form-element.half-width {
        margin-bottom:35px;
    }

    .filter-buttons {
        position: static;
        float:right;
    }
}

.date-container {
    .filter-buttons {
        .btn {
            display: inline;
        }
    }
}

.loaded-template-name {
	padding: 7px 15px;
	color: #cecece;
	text-align: center;
	border-bottom: 2px solid #ff5252;
	margin: 5px 15px;
	font-family: 'Lato', sans-serif;
	font-size: 1.2rem;
	background: #121212;
}

.datalist-edit.template-details {
	@media (min-width: $tabletBreakpoint) {
		width: 40%;
	}

	.template-loaded & {
		@media (min-width: $tabletBreakpoint) {
			width: 70%;
		}
	}
}

.template-details-section {
    width:49%;
    display: inline-block;
    vertical-align: top;

    legend {
        color: #fff;
        text-transform: uppercase;
        font-size: 1rem;
    }

    p {
        margin-bottom:0;
    }
}

[data-form-updatetemplate] {
	display: none;

	.template-loaded & {
		display: block;
	}
}

.section-new-template {
	width:100%;
	text-align:center;

	.template-loaded & {
		width:49%;
	}
}

.template-container {
    overflow: hidden;
}

.active-list {
    padding:20px;
    max-height: 500px;
    overflow: auto;

    li {
        cursor:pointer;
        list-style-type: none;
        padding:5px 0;

        input {
            position: relative;
            top:-2px;
        }
    }
}

.page-header.fixed-toolbar {
	position: fixed;
	top:0;
	width:100%;
	z-index: 3;

	@media (max-width: $mobileBreakpoint) {
		.hidden-xs {
			display: none;
		}
	}
}

.extract-filter-stats {
	display: none;
	position: fixed;
	left:0;
	top:0;
	z-index: 3;
	width:100%;
	overflow:scroll;
	float:right;

	@media (max-width: $desktopBreakpoint) {
		background: #222;
	}

	@media (min-width: $desktopBreakpoint) {
		display: block;
		position: static;
		left:auto;
		width:30%;
	}

	> i {
		color:#777;
		position: absolute;
		top:10px;
		right:10px;
		cursor: pointer;

		@media (min-width: $desktopBreakpoint) {
			display: none;
		}
	}

	h4 {
		display: none;

		@media (min-width: $desktopBreakpoint) {
			display: block;
		}
	}
	
	&.fixed-sidebar {
		position: fixed;
		top:122px;

		@media (min-width: $tabletBreakpoint) {
			right: 27%;
			top: 133px;
		}

		@media (min-width: $desktopBreakpoint) {
			right: 69px;
			width: 342px;
			top: 121px;
		}
	}

	@media (max-width: $tabletBreakpoint) {
		.sidebar-filters {
			margin-top: 0;
			height: 100%;
		}
	}
}

.extract-toolbar {
	@media (max-width: $largeDesktopBreakpoint) {
		text-align: center;
		padding-bottom:20px;
	}

	ul {
		float: left;
		margin:0;
		padding:10px 0;

		@media (max-width: $mobileBreakpoint) {
			padding-bottom:0;
			width:100%;
		}

		li {
			display: inline-block;
			list-style-type: none;
			text-transform: uppercase;
			font-size: 0.7rem;
			min-width:160px;
			min-height:100px;
			color:#fff;
			padding:15px;
			text-align: center;
			position: relative;
			line-height: 1rem;
			height:90px;
			vertical-align: top;

			@media (min-width: $desktopBreakpoint) {
				margin-right:25px;
			}

			&:last-child {
				margin-right:0;
			}

			span {
				display: block;
				font-size:1rem;
				font-weight: 600;
				
				&.toolbar-figure {
					font-size: 1.8rem;
				}
			}

			small {
				@include centerElement(true,true);
				position: absolute;
				top:80%;
				color:$extractGrey;
				font-size: 0.7rem;
				text-transform: capitalize;
				font-family: 'Lato', sans-serif;
			}

			select {
				color:#000;
			}

			.total-records {
				padding-top: 7px;
				color: #ccc;
			}

			.selected-records {
				min-width:250px;
				text-align: center;
				font-size:3.5rem;

				strong {
					position: relative;
					top: -10px;
				}
			}
		}
	}

	[data-form-action] {
		@media (max-width: $desktopBreakpoint) {
			font-size:0.8rem;
			padding:20px 13px;
			margin-bottom:15px;
		}
		@media (min-width: $desktopBreakpoint) {
			float: right;
			padding: 20px 40px;
			margin-top: 26px;
		}
	}
	
	[data-form-action="filters"] {
		@media (min-width: $desktopBreakpoint) {
			display: none;
		}
	}
}

.site-container {
	.page-header {
		.extract-toolbar {
			.model-actions {
				display: inline-block;
				background: none;

				@media (min-width: $desktopBreakpoint) {
					float:right;
					position: static;
					padding: 31px 25px 0 0;
				}

				.header-info {
					@media (max-width: $desktopBreakpoint) {
						font-size:1rem;
					}
				}

				.btn {
					font-size: 0.8rem;

					@media (max-width: $desktopBreakpoint) {
						padding:20px 13px;
						margin-bottom:15px;
					}
				}
			}
		}
	}
}

.extract-filters-container {
	h4 {
		text-align: center;
		font-size:1rem;
		color: $extractGrey;
		margin: 20px 0 15px 0;
	}
}

.filter-selections {
    .form-element {
        .extract-show-all {
            position: absolute;
            right: 0;
            top: 56px;
            color:#000;
            border-bottom: 1px solid;

            i {
                color:#000;
            }
        }
    }
}

.extract-options-action-buttons {
    display: none;
    text-align: center;
}

[data-js-group-templates] {
	@include clearfix();

	select {
		display: block;
		margin:0 0 15px 0px;

		@media (min-width: $tabletBreakpoint) {
			margin: 0 auto 20px auto;
		}
	}
}

.template-options {
	@include clearfix();

	.template-list {
		float: left;
		width: 50%;

		&:last-child {
			float: right;
		}
	}
}

.pick-templates {
	list-style-type: none;
	padding-left:0;
	max-height: 300px;
	overflow: scroll;

	[data-js-group-templates] & {
		@media (min-width: $tabletBreakpoint) {
			padding-left: 20px;
		}
	}
}

.template-new-search {
	margin:15px 0;
	padding-top:20px;
	border-top:1px solid;
	text-align: center;
}

.template-filters-section {
	@media (min-width: $desktopBreakpoint) {
		float: left;
		width:50%;
	}
}

.extract-tool-search-filter-groups {
	position: relative;
	margin-top: 20px;
	width:70%;
	background: #333;
	padding: 25px 15px 35px;
	border-radius: 5px;
	text-align: center;
	float:left;

	@media (max-width: $desktopBreakpoint) {
		width:100%;
	}

	legend {
		color:#fff;
		font-size: 0.8rem;
		text-transform: none;
	}

	div {
		@include clearfix();
		margin: 0 auto;

		@media (min-width: $desktopBreakpoint) {
			width: 375px;
		}

		.reset-groups {
			font-size:0.8rem;
			display: block;
			margin-top: 10px;
			color:#ff5252;
			text-decoration: underline;
		}
	}
}

.search-shown {
	float:left !important;
	margin-right:20px;
}

[name="searchGroups"] {
	display: none;
}